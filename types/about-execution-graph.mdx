---
title: 'ðŸ”— Execution Graph'
description: 'Execution Graphs manage and visualize the sequence of image processing tasks'
---

## Overview

The `ExecutionGraph` class is essential for organizing and displaying the flow of image processing tasks. It tracks the order of operations, their interconnections, and the data processed at each stage. For details on the individual steps within the graph, see [ExecutionNode](/execution-node).

## ExecutionGraph

An `ExecutionGraph` tracks the relationships between different `ExecutionNode` instances, representing the entire workflow's execution.

### Attributes

- **root**: The root node of the graph.
- **edges**: A dictionary mapping node IDs to their child nodes.
- **parent**: A dictionary mapping node IDs to their parent nodes.

### Methods

### __init__

Initializes the graph with the root node.

<Underline text="Arguments" margin="mt-0" />
<ParamField path="root" type="ExecutionNode">
  The root node of the execution graph.
</ParamField>

### add_child

Adds a child node to a parent node in the graph.

<Underline text="Arguments" margin="mt-0" />
<ParamField path="parent" type="ExecutionNode">
  The parent node to which the child will be added.
</ParamField>
<ParamField path="child" type="ExecutionNode">
  The child node to be added.
</ParamField>

### ascii_graph

Prints a text-based representation of the graph.

<Underline text="Returns" margin="mt-0" />
<ResponseField name="ascii_graph" type="None">
  Outputs the ASCII representation of the graph to the console.
</ResponseField>

### parent_of

Returns the parent node of a given node. Raises an error if the node has multiple parents.

<Underline text="Arguments" margin="mt-0" />
<ParamField path="node" type="ExecutionNode">
  The node for which to find the parent.
</ParamField>

<UnderlineMargin text="Returns" margin="mt-0" />
<ResponseField name="parent_node" type="ExecutionNode">
  The parent node of the given node.
</ResponseField>

### __getitem__

Allows indexing the graph to get the child nodes of a given node.

<Underline text="Arguments" margin="mt-0" />
<ParamField path="node" type="ExecutionNode">
  The node for which to get the child nodes.
</ParamField>

<UnderlineMargin text="Returns" margin="mt-0" />
<ResponseField name="child_nodes" type="List[ExecutionNode]">
  The list of child nodes for the given node.
</ResponseField>

### __repr__

Returns a string representation of the graph.

<UnderlineMargin text="Returns" margin="mt-0" />
<ResponseField name="representation" type="str">
  A string representation of the execution graph.
</ResponseField>

### top_sort

Performs a topological sort of the graph, returning a list of lists of nodes representing each level of the graph.

<UnderlineMargin text="Returns" margin="mt-0" />
<ResponseField name="sorted_nodes" type="List[List[ExecutionNode]]">
  A list of lists of nodes representing each level of the graph.
</ResponseField>